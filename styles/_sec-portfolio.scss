.sec-portfolio {
  $self: &; // For Nested BEM support. Defines variable as ".sec-portfolio"

  @include sectionContainer;

  @include breakPoint(992px) {
    min-height: 100vh;
  }

  &__heading {
    @include sectionHeading;

    & > i {
      display: none;
    }
  } // End heading

  &__projects {
    @include sectionBody;

    @include breakPoint(992px) {
      perspective: 1000px; // Sets the 3d perspective (view point)
    }

    #{$self}__carousel {
      display: flex;
      flex-wrap: wrap; // push children (proj-card) to next row as needed
      justify-content: center;

      @include breakPoint(992px) {
        position: relative;
        width: 100%;
        height: 100%;
        align-items: center;
        transform-style: preserve-3d; // Allows for a 3d perspective z-axis and dept of elements
        transition: transform 1s;
      }

      #{$self}__proj-card {
        min-width: 200px;
        max-width: 360px;
        height: 230px;
        margin: 10px 10px;
        border: 1px solid $txt-color;
        border-radius: 5px;
        box-shadow: $boxShadow;
        position: relative;
        // overflow: hidden;  
        // No longer using overflow hidden since card shadow effect (::before) must overflow. 
        //Added another layer (proj-card-container) in order to contain the scaling and rotating image on hover

        @include breakPoint(768px) {
          margin: 15px 15px;
        }

        @include breakPoint(992px) {
          width: 265px;
          height: 180px;
          margin: 0;
          position: absolute;
          box-shadow: none;
          overflow: visible;
          transform-style: preserve-3d;
          @include zoomCard(
            340px
          ); // Increase this for more space between cards (also depends on width and height)

          // Card shadows while in carousel configuration
          &::before {
            content: "";
            position: absolute;
            width: 95%;
            height: 4px;
            bottom: -20px;
            left: 2%;
            box-shadow: 0 0 20px inset $txt-color;
            transform: rotateX(85deg); // rotate the thin rectangle so that the shape gets mixed in with the shadow blur
          }
        }

        // The purpose of this container is to contain the rotating and scaling image effect while the card can "overflow" the drop shadow in the carousel
        #{$self}__proj-card-container {
          overflow: hidden;
          position: relative;
          height: 100%;
          width: 100%;

          &:hover #{$self}__proj-info {
            opacity: 1;

            #{$self}__proj-cta {
              opacity: 1;
              transition: opacity 0.5s linear; // smoothens the button display
              pointer-events: auto; // enables clicking of the links again (after animation runs)
              animation: delay-pointer-events 0.5s linear; // Delays the link clickability for point 500ms
            }
          } // proj_card hover impacting proj-info elements

          &:hover #{$self}__proj-img {
            transform: scale(1.3) rotate(15deg);
          }

          #{$self}__proj-img {
            width: 100%;
            height: 100%;
            transition: all 0.5s;
          }

          #{$self}__proj-info {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            color: $secondary-color;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
            text-align: center;
            opacity: 0;
            transition: 0.05s;

            #{$self}__proj-title {
              padding: 5px;
              font-size: 1.3rem;
            }

            #{$self}__proj-cta {
              position: relative;
              display: flex;
              justify-content: space-around;
              width: 100%;
              pointer-events: none; // prevent these links from being clicked prior to becoming visible
              opacity: 0;

              & > .proj-cta-btn {
                // Common characteristics shared between View Code & Run App Buttons
                position: relative;
                display: inline-block;
                width: 60px;
                height: 45px;
                line-height: 45px;
                font-size: 1.3rem;
                color: $btn-txt-color;
                border: 2px solid $btn-txt-color;
                border-radius: 5px;
                margin: 2px 0;
                top: -2px;

                &:hover {
                  border-color: lightgray;
                }

                &:active {
                  top: 0;
                }
              } // End proj-run-app
            } // End proj-cta
          } // End proj-info
        } // End proj-card-container
      } // End proj-card
    } // End carousel
  } // End projects

  &__carousel-controls {
    display: none;

    @include breakPoint(992px) {
      display: flex;
      justify-content: center;
      z-index: 100; // Ensure that the Controls are alway on top and accessible otherwise carousel transforms may block access and only apparent in dev tools
    }

    #{$self}__carousel-ctrl-prev-button {
      @include breakPoint(992px) {
        width: 0;
        height: 0;
        border-top: 50px solid transparent;
        border-bottom: 50px solid transparent;
        border-right: 50px solid $txt-color;
        cursor: pointer;
      }
    }

    #{$self}__carousel-proj-details {
      @include breakPoint(992px) {
        width: 400px;
        height: 100px;
        margin: 0 5em;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: white;
        border-radius: 15px;
        border: 1px solid $txt-color;
      }
    }

    #{$self}__carousel-ctrl-next-button {
      @include breakPoint(992px) {
        width: 0;
        height: 0;
        border-top: 50px solid transparent;
        border-bottom: 50px solid transparent;
        border-left: 50px solid $txt-color;
        cursor: pointer;
      }
    }
  } // End carousel-controls
} // END .sec-portfolio
